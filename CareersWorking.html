<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Opportunities</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configure Tailwind for custom colors and Inter font -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#4F46E5',
                        'secondary': '#6366F1',
                        'accent': '#A5B4FC',
                        'background': '#F9FAFB',
                        'card': '#FFFFFF',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        /* Custom scrollbar styling for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #ccc;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #999;
        }

        /* Modal specific styling to ensure it sits above everything */
        .modal {
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal.hidden {
            opacity: 0;
            visibility: hidden;
        }

        /* Responsive file input text */
        .file-label {
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
    </style>
</head>
<body class="bg-background font-sans min-h-screen">

    <header class="bg-primary shadow-lg sticky top-0 z-10">
        <div class="max-w-6xl mx-auto p-4 flex justify-between items-center">
            <h1 class="text-3xl font-bold text-white">Join Our Team</h1>
            <nav>
                <a href="#jobs-list" class="text-white hover:text-accent transition duration-200 text-lg font-medium">View Openings</a>
            </nav>
        </div>
    </header>

    <main class="max-w-6xl mx-auto p-4 md:p-8">

        <!-- Hero Section -->
        <section class="text-center py-12 md:py-16 bg-card rounded-xl shadow-lg mb-10">
            <h2 class="text-4xl md:text-5xl font-extrabold text-gray-800 mb-4">Careers That Make an Impact</h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">We're looking for passionate individuals to join us on our mission. Explore our current openings below.</p>
        </section>

        <!-- Job Listings Section -->
        <section id="jobs-list" class="pt-6">
            <h3 class="text-3xl font-bold text-gray-800 mb-6 border-b-2 border-primary pb-2">Current Openings</h3>
            <div id="job-postings" class="space-y-6">
                <!-- Job posts will be dynamically inserted here -->
                <div class="text-center p-10">
                    <p class="text-gray-500">Loading job postings...</p>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white p-6 mt-12">
        <div class="max-w-6xl mx-auto text-center">
            <p>&copy; 2024 Your Company. All rights reserved. Apply now!</p>
        </div>
    </footer>


    <!-- Application Modal (Hidden by default) -->
    <div id="application-modal" class="modal hidden fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-75 p-4">
        <div class="bg-card w-full max-w-xl rounded-xl shadow-2xl transform transition-all p-6 md:p-8">

            <div class="flex justify-between items-start border-b pb-3 mb-4">
                <h4 id="modal-title" class="text-2xl font-bold text-gray-800">Apply for [Job Title]</h4>
                <button onclick="closeModal()" class="text-gray-400 hover:text-gray-600 transition duration-150">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>

            <form id="application-form" class="space-y-6" onsubmit="handleFormSubmit(event)">
                
                <!-- Hidden field to hold the job title being applied for -->
                <input type="hidden" id="job-id-input" name="jobId">
                <input type="hidden" id="job-title-input" name="jobTitle">

                <div>
                    <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Full Name *</label>
                    <input type="text" id="name" name="name" required
                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition duration-150"
                           placeholder="John Doe">
                </div>

                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address *</label>
                    <input type="email" id="email" name="email" required
                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition duration-150"
                           placeholder="john.doe@example.com">
                </div>

                <div>
                    <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                    <input type="tel" id="phone" name="phone"
                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition duration-150"
                           placeholder="(555) 123-4567">
                </div>

                <div>
                    <label for="cv" class="block text-sm font-medium text-gray-700 mb-1">Upload CV/Resume *</label>
                    <div class="flex items-center space-x-2">
                        <label for="cv" class="cursor-pointer bg-accent text-white py-2 px-4 rounded-lg hover:bg-primary transition duration-150 shadow-md">
                            Choose File
                        </label>
                        <input type="file" id="cv" name="cv" required accept=".pdf,.doc,.docx" class="hidden" onchange="updateFileName(this)">
                        <span id="file-name" class="file-label text-gray-500 flex-1 border border-gray-300 p-2 rounded-lg truncate">No file selected (PDF, DOCX preferred)</span>
                    </div>
                </div>

                <div>
                    <label for="cover_letter" class="block text-sm font-medium text-gray-700 mb-1">Cover Letter (Optional)</label>
                    <textarea id="cover_letter" name="cover_letter" rows="4"
                              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition duration-150"
                              placeholder="Tell us why you're a great fit for this role..."></textarea>
                </div>

                <div class="flex justify-end space-x-4">
                    <button type="button" onclick="closeModal()"
                            class="py-2 px-6 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition duration-150 font-medium">
                        Cancel
                    </button>
                    <button type="submit"
                            class="py-2 px-6 bg-primary text-white rounded-lg hover:bg-secondary transition duration-150 font-semibold shadow-lg">
                        Submit Application
                    </button>
                </div>
            </form>
            
            <!-- Success Message Container -->
            <div id="success-message" class="hidden text-center p-6 bg-green-50 border border-green-200 rounded-lg mt-4">
                <svg class="w-10 h-10 text-green-500 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                <h5 class="text-xl font-bold text-green-700 mb-2">Application Submitted!</h5>
                <p class="text-green-600">Thank you for your interest. We have successfully received your application. We will be in touch soon.</p>
                <button onclick="closeModal()" class="mt-4 py-2 px-6 bg-primary text-white rounded-lg hover:bg-secondary transition duration-150 font-semibold">
                    Close
                </button>
            </div>

        </div>
    </div>

<script>
    // Sample Job Data
    const jobs = [
        { id: '101', title: 'Senior Full Stack Developer', location: 'Remote (US/EU)', type: 'Full-time', department: 'Engineering', description: 'Develop and maintain scalable web applications using React and Node.js. 5+ years of experience required.' },
        { id: '102', title: 'Product Marketing Manager', location: 'New York, NY', type: 'Full-time', department: 'Marketing', description: 'Lead go-to-market strategies for our new suite of AI tools. Experience in B2B SaaS preferred.' },
        { id: '103', title: 'UX/UI Designer', location: 'Seattle, WA', type: 'Contract', department: 'Design', description: 'Design user-centered interfaces and high-fidelity prototypes. Proficiency in Figma is a must.' },
        { id: '104', title: 'Customer Support Specialist', location: 'Anywhere', type: 'Part-time', department: 'Support', description: 'Provide world-class support to our customers via chat and email. Excellent communication skills are essential.' },
    ];

    const jobPostingsContainer = document.getElementById('job-postings');
    const modal = document.getElementById('application-modal');
    const modalTitle = document.getElementById('modal-title');
    const form = document.getElementById('application-form');
    const successMessage = document.getElementById('success-message');
    const jobIdInput = document.getElementById('job-id-input');
    const jobTitleInput = document.getElementById('job-title-input');

    /**
     * Renders all job postings onto the page.
     */
    function renderJobPostings() {
        jobPostingsContainer.innerHTML = ''; // Clear loading text

        if (jobs.length === 0) {
            jobPostingsContainer.innerHTML = '<p class="text-center text-gray-500 p-10">There are currently no open positions.</p>';
            return;
        }

        jobs.forEach(job => {
            const jobCard = document.createElement('div');
            jobCard.className = 'bg-card p-6 md:p-8 rounded-xl shadow-lg hover:shadow-xl transition duration-300 border-t-4 border-primary space-y-3';
            jobCard.innerHTML = `
                <div class="flex flex-col md:flex-row md:justify-between md:items-start">
                    <div>
                        <h4 class="text-2xl font-bold text-gray-800">${job.title}</h4>
                        <div class="text-sm space-x-3 text-gray-500 mt-1">
                            <span class="inline-flex items-center bg-accent/20 text-accent px-3 py-1 rounded-full font-medium">
                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.828 0l-4.243-4.243m0 0A7.996 7.996 0 0112 14.5c2.2 0 4.25-1.025 5.657-2.843m-5.657 2.843c-2.2 0-4.25-1.025-5.657-2.843"></path></svg>
                                ${job.location}
                            </span>
                            <span class="inline-flex items-center bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-xs font-medium">${job.type}</span>
                            <span class="inline-flex items-center bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-xs font-medium">${job.department}</span>
                        </div>
                    </div>
                    <button onclick="openModal('${job.id}', '${job.title}')" 
                            class="mt-4 md:mt-0 py-2 px-6 bg-primary text-white rounded-lg hover:bg-secondary transition duration-300 transform hover:scale-[1.02] shadow-md font-semibold w-full md:w-auto">
                        Apply Now
                    </button>
                </div>
                <p class="text-gray-600 pt-2">${job.description}</p>
            `;
            jobPostingsContainer.appendChild(jobCard);
        });
    }

    /**
     * Opens the application modal for a specific job.
     * @param {string} jobId - The ID of the job being applied for.
     * @param {string} jobTitle - The title of the job.
     */
    function openModal(jobId, jobTitle) {
        modalTitle.textContent = 'Apply for ' + jobTitle;
        jobIdInput.value = jobId;
        jobTitleInput.value = jobTitle;
        
        // Reset form and show form, hide success message
        form.reset();
        document.getElementById('file-name').textContent = 'No file selected (PDF, DOCX preferred)';
        form.classList.remove('hidden');
        successMessage.classList.add('hidden');
        
        modal.classList.remove('hidden');
        document.body.classList.add('overflow-hidden'); // Prevent background scrolling
    }

    /**
     * Closes the application modal.
     */
    function closeModal() {
        modal.classList.add('hidden');
        document.body.classList.remove('overflow-hidden');
    }

    /**
     * Updates the displayed file name next to the file input.
     * @param {HTMLInputElement} input - The file input element.
     */
    function updateFileName(input) {
        const fileNameSpan = document.getElementById('file-name');
        if (input.files.length > 0) {
            fileNameSpan.textContent = input.files[0].name;
            fileNameSpan.classList.remove('text-gray-500');
            fileNameSpan.classList.add('text-gray-800');
        } else {
            fileNameSpan.textContent = 'No file selected (PDF, DOCX preferred)';
            fileNameSpan.classList.add('text-gray-500');
            fileNameSpan.classList.remove('text-gray-800');
        }
    }


    /**
     * Handles the form submission (simulating a real API call).
     * @param {Event} event - The submission event.
     */
    function handleFormSubmit(event) {
        event.preventDefault(); // Stop default form submission

        const formData = new FormData(form);
        const data = {};
        formData.forEach((value, key) => {
            if (key === 'cv' && value.name) {
                 // For the CV, only log the file metadata, not the binary data
                 data[key] = {
                     name: value.name,
                     size: value.size,
                     type: value.type
                 };
            } else if (key !== 'cv') {
                 data[key] = value;
            }
        });

        // --- SIMULATED BACKEND PROCESSING ---
        console.log("--- New Application Received (Simulated) ---");
        console.log("Job ID:", data.jobId);
        console.log("Applying for:", data.jobTitle);
        console.log("Applicant Data:", data);
        
        // In a real application, this is where you would make an API call:
        /*
        fetch('/api/applications', {
            method: 'POST',
            body: formData, // Sending the FormData object handles file and text fields correctly
        })
        .then(response => {
            if (response.ok) {
                // Show success message
            } else {
                // Show error message
            }
        })
        .catch(error => console.error('Submission failed:', error));
        */
        // --- END SIMULATION ---
        
        // Hide form, show success message
        form.classList.add('hidden');
        successMessage.classList.remove('hidden');
    }

    // Initialize the page on load
    document.addEventListener('DOMContentLoaded', renderJobPostings);

    // Close modal if user clicks outside of it
    modal.addEventListener('click', (e) => {
        if (e.target === modal) {
            closeModal();
        }
    });

    // Close modal if user presses ESC key
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
            closeModal();
        }
    });
</script>

</body>
</html>
